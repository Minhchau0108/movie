[{"/Users/xiuxiu/Documents/CoderSchool/Week4/movie/src/index.js":"1","/Users/xiuxiu/Documents/CoderSchool/Week4/movie/src/reportWebVitals.js":"2","/Users/xiuxiu/Documents/CoderSchool/Week4/movie/src/App.js":"3","/Users/xiuxiu/Documents/CoderSchool/Week4/movie/src/pages/MovieDetailPage.js":"4","/Users/xiuxiu/Documents/CoderSchool/Week4/movie/src/pages/MovieListPage.js":"5","/Users/xiuxiu/Documents/CoderSchool/Week4/movie/src/components/PublicNavbar.js":"6","/Users/xiuxiu/Documents/CoderSchool/Week4/movie/src/components/CarouselMovie.js":"7","/Users/xiuxiu/Documents/CoderSchool/Week4/movie/src/components/MovieCard.js":"8","/Users/xiuxiu/Documents/CoderSchool/Week4/movie/src/components/PaginationBar.js":"9","/Users/xiuxiu/Documents/CoderSchool/Week4/movie/src/components/MovieDetail.js":"10","/Users/xiuxiu/Documents/CoderSchool/Week4/movie/src/components/GenreCheckBox.js":"11","/Users/xiuxiu/Documents/CoderSchool/Week4/movie/src/components/CarouselMulti.js":"12","/Users/xiuxiu/Documents/CoderSchool/Week4/movie/src/components/ModalReviews.js":"13","/Users/xiuxiu/Documents/CoderSchool/Week4/movie/src/components/NavBar.js":"14"},{"size":586,"mtime":1610692627845,"results":"15","hashOfConfig":"16"},{"size":362,"mtime":1610692340815,"results":"17","hashOfConfig":"16"},{"size":867,"mtime":1610762371248,"results":"18","hashOfConfig":"16"},{"size":4539,"mtime":1610870937480,"results":"19","hashOfConfig":"16"},{"size":6744,"mtime":1610892074377,"results":"20","hashOfConfig":"16"},{"size":1239,"mtime":1610934438433,"results":"21","hashOfConfig":"16"},{"size":720,"mtime":1610934911006,"results":"22","hashOfConfig":"16"},{"size":1865,"mtime":1610889266792,"results":"23","hashOfConfig":"16"},{"size":1466,"mtime":1610889377792,"results":"24","hashOfConfig":"16"},{"size":1383,"mtime":1610933639286,"results":"25","hashOfConfig":"16"},{"size":788,"mtime":1610869742587,"results":"26","hashOfConfig":"16"},{"size":1824,"mtime":1610887464287,"results":"27","hashOfConfig":"16"},{"size":1663,"mtime":1610933813516,"results":"28","hashOfConfig":"16"},{"size":963,"mtime":1610934508281,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"kxp0us",{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"37","messages":"38","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39","usedDeprecatedRules":"32"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"42","usedDeprecatedRules":"32"},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"53","messages":"54","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/Users/xiuxiu/Documents/CoderSchool/Week4/movie/src/index.js",[],["61","62"],"/Users/xiuxiu/Documents/CoderSchool/Week4/movie/src/reportWebVitals.js",[],"/Users/xiuxiu/Documents/CoderSchool/Week4/movie/src/App.js",[],"/Users/xiuxiu/Documents/CoderSchool/Week4/movie/src/pages/MovieDetailPage.js",["63"],"import React,{useState, useEffect} from 'react'\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { useParams } from \"react-router-dom\";\nimport { Container } from 'react-bootstrap';\nimport MovieDetail from '../components/MovieDetail';\nimport CarouselMulti from '../components/CarouselMulti'\nimport ModalReviews from '../components/ModalReviews';\nimport NavBar from '../components/NavBar'\nimport ReactPlayer from 'react-player/youtube'\n\nconst API_KEY=process.env.REACT_APP_TMDB_API_KEY;\nconst API_URL=process.env.REACT_APP_TMDB_API_URL;\n\nconst MovieDetailPage = () => {\n    const { id } = useParams();\n    const [loading, setLoading] = useState(false);\n    const [movie, setMovie] = useState({});\n    const [hasError, setHasError] = useState(false);\n    const [recommendMovies, setRecommendMovies] = useState([]);\n    const [similarMovies, setSimilarMovies] = useState([]);\n    const [reviews,setReviews] = useState([]);\n    const [showModal, setShowModal] = useState(false);\n    const [ids, setIds] = useState([]);\n\n    useEffect(() => {\n        if(!id) {\n            return;\n        }\n        async function fetchData() {\n          setLoading(true);\n          try {\n            const url = `${API_URL}/movie/${id}?api_key=${API_KEY}&language=en-US`;\n            const response = await fetch(url);\n            const data = await response.json();\n            console.log(data);\n            setMovie(data);\n          } catch (error) {\n            setHasError(true);\n          }\n          setLoading(false);\n        };\n        fetchData();\n      }, [id]);\n\n    useEffect(() => {\n      if(!id) {\n          return;\n      }\n      async function fetchIds() {\n        try {\n          const url = `${API_URL}/movie/${id}/videos?api_key=${API_KEY}&language=en-US`;\n          const response = await fetch(url);\n          const data = await response.json();\n          setIds(data.results)\n        } catch (error) {\n          setHasError(true);\n        }\n      };\n      fetchIds();\n    }, [id]);\n\n      useEffect(() => {\n        if(!id) {\n            return;\n        }\n        async function fetchRecommendMovie() {\n            const url = `${API_URL}/movie/${id}/recommendations?api_key=${API_KEY}&language=en-US&page=1`;\n            const response = await fetch(url);\n            const data = await response.json();\n            setRecommendMovies(data.results)\n        };\n        fetchRecommendMovie();\n      }, [id]);\n\n      useEffect(() => {\n        if(!id) {\n            return;\n        }\n        async function fetchSimilarMovie() {\n            const url = `${API_URL}/movie/${id}/similar?api_key=${API_KEY}&language=en-US&page=1`;\n            const response = await fetch(url);\n            const data = await response.json();\n            setSimilarMovies(data.results)\n        };\n        fetchSimilarMovie();\n      }, [id]);\n\n      useEffect(() => {\n        if(!id) {\n            return;\n        }\n        async function fetchReviews() {\n            const url = `${API_URL}/movie/${id}/reviews?api_key=${API_KEY}&language=en-US&page=1`;\n            const response = await fetch(url);\n            const data = await response.json();\n            setReviews(data.results)\n        };\n        fetchReviews();\n      }, [id]);\n\n    const handleReview=()=>{\n      setShowModal(true)\n    }\n\n\n    return (\n        <div className=\"detailPage\">\n            <NavBar/>\n            <Container className=\"mt-5\">\n                {!loading && <MovieDetail \n                path={movie.backdrop_path} \n                title={movie.title} \n                date={movie.release_date} \n                vote={movie.vote_average}\n                overview={movie.overview}\n                genres={movie.genres}\n                clicked={handleReview}/>}\n            </Container>\n            <ModalReviews show={showModal} onHide={() => setShowModal(false)} reviews={reviews}/>\n\n            {ids.length > 0 && (\n              <Container>\n              <ReactPlayer url={`https://www.youtube.com/watch?v=${ids[0].key}`} width='100%'/>\n              </Container>\n            )}\n\n            {recommendMovies.length > 0 && (\n              <>\n                <h3 className=\"text-warning text-left m-5\">Recommend Movies</h3>\n                <CarouselMulti movies={recommendMovies}/>\n              </>)}\n\n            {recommendMovies.length > 0 && (\n              <>\n                <h3 className=\"text-warning text-left m-5\">Similar Movies</h3>\n                <CarouselMulti movies={similarMovies}/>\n            </>)}\n        </div>\n    )\n}\n\nexport default MovieDetailPage\n","/Users/xiuxiu/Documents/CoderSchool/Week4/movie/src/pages/MovieListPage.js",["64"],"import React, {useState, useEffect} from 'react'\nimport CarouselMovie from '../components/CarouselMovie';\nimport PublicNavbar from '../components/PublicNavbar'\nimport MovieCard from '../components/MovieCard'\nimport {CardDeck, Row, Col, Container} from \"react-bootstrap\";\nimport PaginationBar from '../components/PaginationBar';\nimport InputRange from 'react-input-range';\nimport 'react-input-range/lib/css/index.css';\nimport GenreCheckBox from '../components/GenreCheckBox'\n\n\nconst API_KEY=process.env.REACT_APP_TMDB_API_KEY;\nconst API_URL=process.env.REACT_APP_TMDB_API_URL;\n\nconst MovieListPage = ({type}) => {\n    const [movies, setMovies] = useState([]);\n    const [filteredMovies, setFilteredMovies] = useState([]);\n    const [filterTerm, setFilterTerm] = useState('');\n    const [latestMovies, setLatestMovies] = useState([]);\n    const [totalResults, setTotalResults]= useState(1);\n    const [pageNum, setPageNum] = useState(1);\n    const [ratingRange, setRatingRange] = useState({min: 0,max: 10})\n    const [yearRange, setYearRange] = useState({min: 1997,max: 2021})\n    const [genresList, setGenresList] = useState([]);\n    const [hasGenresList, setHasGenresList] = useState(false);\n    const [selectedGenre, setSelectedGenre] = useState(0);\n    const [sortType, setSortType] = useState('mostToLeastPopular');\n\n\n    useEffect(()=>{\n        async function fetchGenresList() {\n            const url = `${API_URL}/genre/movie/list?api_key=${API_KEY}&language=en-US`;\n            const response = await fetch(url);\n            const data = await response.json();\n            setGenresList(data.genres)\n            setHasGenresList(true)\n          };\n          fetchGenresList();\n    },[])\n\n    useEffect(() => {\n        async function fetchData() {\n          let endpoint = \"now_playing\";\n          if(type === 'top_rated'){\n              endpoint = 'top_rated';\n          }\n          if(type === 'upcoming'){\n            endpoint = 'upcoming';\n          }\n          const url = `${API_URL}/movie/${endpoint}?api_key=${API_KEY}&page=${pageNum}`;\n          const response = await fetch(url);\n          const data = await response.json();\n          setMovies(data.results);\n          setFilteredMovies(data.results);\n          setTotalResults(data.total_results)\n          setSelectedGenre(0);\n          if(hasGenresList){\n            let copyList = [...genresList]\n            copyList = copyList.map(g => ({...g, count: 0}))\n              data.results.forEach(d => {\n                d.genre_ids.forEach(g => {\n                    copyList.forEach(l => {\n                        if(g === l.id){\n                            l.count = l.count + 1;\n                        }\n                    })\n                }\n                )\n              })\n            setGenresList(copyList);\n          }\n        };\n        fetchData();\n      }, [type,pageNum,hasGenresList]);\n\n  \n    useEffect(()=>{\n        async function fetchData() {\n            const url = `${API_URL}/movie/popular?api_key=${API_KEY}&language=en-US&page=1`;\n            const response = await fetch(url);\n            const data = await response.json();\n            setLatestMovies(data.results.slice(0,3));\n            if(type==='top_rated'){\n                setLatestMovies(data.results.slice(4,7));\n            }\n            if(type==='upcoming'){\n                setLatestMovies(data.results.slice(8,11));\n            }\n          };\n          fetchData();\n    },[type])\n\n\n    useEffect(()=>{\n        let newMovies = movies.filter((m)=>m.title.toLowerCase().startsWith(filterTerm.toLowerCase()));\n        setFilteredMovies(newMovies);\n    },[filterTerm, movies])\n\n    useEffect(()=>{\n        let newMovies = movies.filter((m)=>(m.vote_average>=ratingRange.min && m.vote_average<=ratingRange.max));\n        setFilteredMovies(newMovies);\n    },[ratingRange, movies])\n\n    useEffect(()=>{\n        let newMovies = movies.filter((m)=>{\n            let year = m.release_date.split(\"-\")[0];\n            return (year>=yearRange.min && year <= yearRange.max)\n        });\n        setFilteredMovies(newMovies);\n    },[yearRange, movies])\n\n    useEffect(()=>{\n        if(parseInt(selectedGenre) !== 0){\n            const newMovies = movies.filter(m => m.genre_ids.includes(parseInt(selectedGenre)));\n            setFilteredMovies(newMovies)\n        }\n        else{\n            setFilteredMovies(movies)\n        }\n    },[selectedGenre,movies])\n\n    useEffect(()=>{\n        let copyMovies = [...movies]\n        switch(sortType){\n            case 'leastToMostPopular':\n                copyMovies.sort((a,b)=>a.popularity-b.popularity);\n                break;\n            case 'highestToLowestRating':\n                copyMovies.sort((a,b) => b.vote_average - a.vote_average);\n                break;\n            case 'lowestToHighestRating':\n                copyMovies.sort((a,b) => a.vote_average - b.vote_average);\n                break;\n            default:\n                break;\n        }\n        setFilteredMovies(copyMovies);\n    },[sortType,movies])\n    \n\n    const handleChangePage=(page)=>{\n        setPageNum(page);\n    }\n    const handleClickGenre=(e)=>{\n        setSelectedGenre(e.currentTarget.value);\n    }\n    const handleSelectSort=(e)=>{\n        setSortType(e);\n    }\n    return (\n        <>\n            <PublicNavbar handleChange={(e)=>setFilterTerm(e.target.value)} value={filterTerm}/>\n            <CarouselMovie movies={latestMovies}/>\n            <Container fluid className=\"movie-body\">\n            <PaginationBar totalResults={totalResults} currentPage={pageNum} clicked={handleChangePage} handleSelect={handleSelectSort}/>\n            <Row>\n                <Col md={3} className=\"px-5\">\n                    {hasGenresList && <GenreCheckBox genresList={genresList} handleClickGenre={handleClickGenre}/>}\n                    <Row className=\"mb-5\">\n                        <h4 className=\"my-4 text-warning\">Rating</h4>\n                        <InputRange draggableTrack maxValue={10} minValue={0} value={ratingRange} onChange={value => setRatingRange(value)}/>\n                    </Row>\n\n                    <Row className=\"mt-5\">\n                        <h4 className=\"my-4 text-warning\">Year</h4>\n                        <InputRange maxValue={2021} minValue={1997} value={yearRange} onChange={value => setYearRange(value)}/>\n                    </Row>\n                </Col>\n                <Col md={9}>\n                <Row>\n                    <CardDeck>\n                        {filteredMovies.map(m=>(<MovieCard movies = {m} key={m.id} genres={genresList}/>))}\n                    </CardDeck>\n                </Row>\n                </Col>\n            </Row>\n            </Container>\n            \n            \n        </>\n    )\n}\n\nexport default MovieListPage\n","/Users/xiuxiu/Documents/CoderSchool/Week4/movie/src/components/PublicNavbar.js",[],"/Users/xiuxiu/Documents/CoderSchool/Week4/movie/src/components/CarouselMovie.js",[],"/Users/xiuxiu/Documents/CoderSchool/Week4/movie/src/components/MovieCard.js",[],"/Users/xiuxiu/Documents/CoderSchool/Week4/movie/src/components/PaginationBar.js",[],"/Users/xiuxiu/Documents/CoderSchool/Week4/movie/src/components/MovieDetail.js",[],"/Users/xiuxiu/Documents/CoderSchool/Week4/movie/src/components/GenreCheckBox.js",[],"/Users/xiuxiu/Documents/CoderSchool/Week4/movie/src/components/CarouselMulti.js",[],"/Users/xiuxiu/Documents/CoderSchool/Week4/movie/src/components/ModalReviews.js",[],"/Users/xiuxiu/Documents/CoderSchool/Week4/movie/src/components/NavBar.js",[],{"ruleId":"65","replacedBy":"66"},{"ruleId":"67","replacedBy":"68"},{"ruleId":"69","severity":1,"message":"70","line":18,"column":12,"nodeType":"71","messageId":"72","endLine":18,"endColumn":20},{"ruleId":"73","severity":1,"message":"74","line":74,"column":10,"nodeType":"75","endLine":74,"endColumn":38,"suggestions":"76"},"no-native-reassign",["77"],"no-negated-in-lhs",["78"],"no-unused-vars","'hasError' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'genresList'. Either include it or remove the dependency array.","ArrayExpression",["79"],"no-global-assign","no-unsafe-negation",{"desc":"80","fix":"81"},"Update the dependencies array to be: [type, pageNum, hasGenresList, genresList]",{"range":"82","text":"83"},[2842,2870],"[type, pageNum, hasGenresList, genresList]"]